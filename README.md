### 🗂️프로젝트 소개

가상 편의점 시스템으로 사용자는 편의점에 존재하는 물건을 구매할 수 있다. 프로모션을 받거나, 멤버쉽 할인을 적용하여 물건을 구매할 수 있다.

---

### 📜흐름

- 편의점 초기화 하기(상품과 재고 정보 저장하기)

- 상품 목록 출력

- 구매할 상품, 수량 입력 받고 처리하기

  - `[콜라-10],[사이다-10]` : 해당 형식에 맞지 않는 경우 예외 처리

- 프로모션 진행 상품에서 혜택을 받을 수 있는데, 상품을 안 가져온 상품이 있을 경우 추가할 것인지 입력받고 처리하기

  - `Y` : 증정품 무료로 추가하기
  - `N` : 추가하지 않기

- 프로모션 진행 상품에서 프로모션 재고가 부족하여 일반 수량으로 계산할 것인지 입력받고 처리하기

  - `Y` : 일반 재고로 결제하기
  - `N` : 일반 재고만큼 구입 갯수에서 차감하기

- 맴버쉽 할인 적용할 것인지 입력받고 처리하기

  - `Y` : 프로모션 적용되지 않은 상품 가격의 30% 할인 적용
  - `N` : 할인 적용하지 않음

- 최종 영수증 출력하기

- 추가 구매할 것인지 입력받고 처리하기

  - `Y` : 3번으로 돌아가기
  - `N` : 종료

---

### 🚨예외 처리

- **구매할 상품과 수량 입력**

  - 빈 문자열 입력

  - 입력 형식에 맞지 않은 입력

  - 존재하지 않는 상품 입력

  - 구매하고자 하는 수량보다 재고가 적은 경우

- **Y(y) 혹은 N(n)이 아닌 경우**

---

### 🔩기능

- **Products**

  - products.md 파일에서 상품 정보 읽고 저장하기

  - 저장한 상품 정보 반환하기

    - 첫 시작시 상품 정보 출력하기 위함

  - 특정 상품 이름의 가격 반환하기

    - 상품 가격을 통해 할인 금액, 결제 금액을 구하기 위함

  - 특정 상품 프로모션 정보 반환하기

    - 프로모션이 있는 상품인지 확인하기 위함

  - 특정 상품 총 재고 수(프로모션 + 일반) 반환하기

    - 사용자가 구매할 수량과 총 재고를 비교하기 위함

  - 특정 상품 프로모션 재고 수 반환하기

    - 프로모션 수량보다 적게 들고온 경우 계산을 위함
    - 정가로 구매할 상품의 갯수를 계산하기 위함

  - 상품 갯수 차감하기

    - 구매한 상품 갯수 감소시키기 위함

    - 프로모션 상품인 경우 프로모션 재고부터 감소
    - 프로모션 상품이 아닌 경우 일바 재고부터 감소

  - 상품 이름들 가져오기
    - 사용자가 구매할 제품이 존재하는 상품인지 확인을 위함

- **Promotions**

  - promotions.md 파일에서 프로모션 정보 읽고 저장

  - 프로모션 이름을 입력 받아, 해당 프로모션이 오늘도 유효한지 확인하기

  - 특정 프로모션의 혜택 정보 반환하기

- **Order**

  - 상품 구매 정보 저장하기

  - 특정 상품 구매 갯수 증가시키기

  - 특정 상품 구매 갯수 감소시키기

  - 상품 구매 정보 배열로 반환하기

  - 할인 금액 저장

  - 할인 금액 반환

- **Validator**

  - 구매 상품 입력 예외처리

    - 빈 값인 경우

    - 형식이 올바르지 않은 경우(상품 갯수가 0개 인 경우도 포함)

    - 존재하지 않는 상품 이름일 경우

    - 구매할 갯수가 재고보다 많은 경우

  - Y(y) or N(n) 아니면 예외 처리

- **util**

  - 구매할 상품과 수량 파싱하기

- **fileUtil**

  - 파일의 정보를 파싱하여 반환하기

- **Service**

  - 상품과 프로모션 정보 초기화 시키기

  - 상품 정보 받아서, 출력 형식에 맞춰서 반환하기

  - 사용자에게 구매 상품 입력 받아서, 유효성 검사 통과후 order 객체 생성하기

  - 프로모션 진행중인데, 혜택 받지 못하는 상품들 반환하기
  - 혜택 받지 못한 상품 추가할 지에 대한 응답 받아 유효성 검사 및 응답에 따른 수량 변화 시키기

  - 프로모션 진행 중인데 재고가 부족해 일반 상품으로 계산해야 될 상품들 반환하기

  - 정가로 계산할 지에 대한 응답 받아 유효성 검사 및 응답에 따른 주문 수량 변화 시키기

  - 맴버쉽 할인 적용할 지에 대한 응답 받아 유효성 검사 및 응답에 따른 맴버쉽 할인 가격 저장하기

  - 쇼핑을 계속 할 지에 대한 응답 받아 유효성 검사 및 응답 처리
  - 구매한 수량만큼 재고 감소 시키기

  - 영수증에 필요한 정보 반환하기

    - 주문 정보(상품 이름, 수량, 가격) 반환하기

    - 증정 상품 정보(상품 이름, 수량) 반환하기

    - 최종 가격, 할인 금액, 총 구매액 반환하기
